{
  "openapi": "3.0.3",
  "info": {
    "title": "Markdown to PDF API",
    "description": "A powerful API for converting Markdown documents to PDF with customizable themes, page settings, and batch processing capabilities.",
    "version": "1.0.0",
    "contact": {
      "name": "Markdown to PDF Support",
      "email": "support@example.com"
    },
    "license": {
      "name": "MIT",
      "url": "https://opensource.org/licenses/MIT"
    }
  },
  "servers": [
    {
      "url": "/api",
      "description": "Current server"
    }
  ],
  "tags": [
    {
      "name": "Conversion",
      "description": "PDF conversion endpoints"
    },
    {
      "name": "Preview",
      "description": "HTML preview generation"
    },
    {
      "name": "Resources",
      "description": "Themes and templates"
    },
    {
      "name": "Payment",
      "description": "Payment and checkout endpoints"
    },
    {
      "name": "Storage",
      "description": "Cloud storage endpoints"
    },
    {
      "name": "Teams",
      "description": "Team management endpoints"
    },
    {
      "name": "Analytics",
      "description": "Usage analytics endpoints"
    },
    {
      "name": "SSO",
      "description": "Enterprise SSO endpoints"
    },
    {
      "name": "Health",
      "description": "Health check endpoints"
    }
  ],
  "paths": {
    "/convert": {
      "post": {
        "tags": ["Conversion"],
        "summary": "Convert Markdown to PDF",
        "description": "Converts Markdown content to a PDF document with customizable themes and page settings.",
        "operationId": "convertToPdf",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ConvertRequest"
              },
              "examples": {
                "simple": {
                  "summary": "Simple conversion",
                  "value": {
                    "markdown": "# Hello World\n\nThis is **bold** text."
                  }
                },
                "withTheme": {
                  "summary": "With theme and settings",
                  "value": {
                    "markdown": "# Document Title\n\n## Introduction\n\nThis is a sample document.",
                    "theme": "academic",
                    "codeTheme": "github-dark",
                    "pageSettings": {
                      "pageSize": "a4",
                      "orientation": "portrait",
                      "margins": {
                        "top": 25,
                        "bottom": 25,
                        "left": 20,
                        "right": 20
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "PDF file generated successfully",
            "content": {
              "application/pdf": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              }
            },
            "headers": {
              "Content-Disposition": {
                "schema": {
                  "type": "string",
                  "example": "attachment; filename=\"document.pdf\""
                }
              },
              "X-RateLimit-Limit": {
                "schema": {
                  "type": "integer",
                  "example": 60
                },
                "description": "Rate limit ceiling"
              },
              "X-RateLimit-Remaining": {
                "schema": {
                  "type": "integer"
                },
                "description": "Remaining requests"
              }
            }
          },
          "400": {
            "description": "Invalid request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "429": {
            "description": "Rate limit exceeded",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": ["Conversion"],
        "summary": "Get conversion endpoint info",
        "description": "Returns information about the conversion endpoint and its parameters.",
        "operationId": "getConvertInfo",
        "responses": {
          "200": {
            "description": "Endpoint information",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "endpoint": {
                      "type": "string"
                    },
                    "method": {
                      "type": "string"
                    },
                    "description": {
                      "type": "string"
                    },
                    "parameters": {
                      "type": "object"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/convert/batch": {
      "post": {
        "tags": ["Conversion"],
        "summary": "Batch convert multiple files",
        "description": "Converts multiple Markdown files to PDF in a single request. Maximum 20 files per batch.",
        "operationId": "batchConvert",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BatchRequest"
              },
              "example": {
                "files": [
                  {
                    "id": "doc1",
                    "filename": "chapter1.pdf",
                    "markdown": "# Chapter 1\n\nIntroduction..."
                  },
                  {
                    "id": "doc2",
                    "filename": "chapter2.pdf",
                    "markdown": "# Chapter 2\n\nContinuation..."
                  }
                ],
                "theme": "github",
                "codeTheme": "github-light"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Batch conversion results",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BatchResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "429": {
            "description": "Rate limit exceeded (10 requests/minute)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/preview": {
      "post": {
        "tags": ["Preview"],
        "summary": "Generate HTML preview",
        "description": "Generates an HTML preview of Markdown content with the specified theme.",
        "operationId": "generatePreview",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PreviewRequest"
              },
              "example": {
                "markdown": "# Hello World\n\nThis is **bold** text.",
                "theme": "github"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "HTML preview generated",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PreviewResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "429": {
            "description": "Rate limit exceeded (120 requests/minute)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/themes": {
      "get": {
        "tags": ["Resources"],
        "summary": "Get available themes",
        "description": "Returns a list of available document themes and code highlighting themes.",
        "operationId": "getThemes",
        "responses": {
          "200": {
            "description": "List of themes",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ThemesResponse"
                }
              }
            }
          }
        }
      }
    },
    "/templates": {
      "get": {
        "tags": ["Resources"],
        "summary": "Get available templates",
        "description": "Returns a list of available document templates with their categories.",
        "operationId": "getTemplates",
        "responses": {
          "200": {
            "description": "List of templates",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TemplatesResponse"
                }
              }
            }
          }
        }
      }
    },
    "/health": {
      "get": {
        "tags": ["Health"],
        "summary": "Health check",
        "description": "Returns the health status of the API.",
        "operationId": "healthCheck",
        "responses": {
          "200": {
            "description": "API is healthy",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HealthResponse"
                }
              }
            }
          }
        }
      }
    },
    "/checkout": {
      "post": {
        "tags": ["Payment"],
        "summary": "Create checkout session",
        "description": "Creates a payment checkout session. Automatically selects the best gateway based on user location and currency, or use a specific gateway.",
        "operationId": "createCheckout",
        "security": [{"bearerAuth": []}],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CheckoutRequest"
              },
              "examples": {
                "autoSelect": {
                  "summary": "Auto-select gateway",
                  "value": {
                    "plan": "pro",
                    "billing": "monthly",
                    "countryCode": "EG"
                  }
                },
                "specificGateway": {
                  "summary": "Specific gateway",
                  "value": {
                    "plan": "team",
                    "billing": "yearly",
                    "gateway": "stripe"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Checkout session created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CheckoutResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          }
        }
      },
      "get": {
        "tags": ["Payment"],
        "summary": "Get available gateways",
        "description": "Returns available payment gateways for the user's region.",
        "operationId": "getGateways",
        "responses": {
          "200": {
            "description": "Available gateways",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GatewaysResponse"
                }
              }
            }
          }
        }
      }
    },
    "/storage/upload": {
      "post": {
        "tags": ["Storage"],
        "summary": "Upload file",
        "description": "Upload a file to cloud storage.",
        "operationId": "uploadFile",
        "security": [{"bearerAuth": []}],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "file": {
                    "type": "string",
                    "format": "binary"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "File uploaded",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StoredFile"
                }
              }
            }
          }
        }
      }
    },
    "/storage/files": {
      "get": {
        "tags": ["Storage"],
        "summary": "List files",
        "description": "List all files for the authenticated user.",
        "operationId": "listFiles",
        "security": [{"bearerAuth": []}],
        "responses": {
          "200": {
            "description": "List of files",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/StoredFile"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/storage/quota": {
      "get": {
        "tags": ["Storage"],
        "summary": "Get storage quota",
        "description": "Get storage usage and limits for the authenticated user.",
        "operationId": "getStorageQuota",
        "security": [{"bearerAuth": []}],
        "responses": {
          "200": {
            "description": "Storage quota info",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StorageQuota"
                }
              }
            }
          }
        }
      }
    },
    "/teams": {
      "post": {
        "tags": ["Teams"],
        "summary": "Create team",
        "description": "Create a new team (requires Team or Enterprise plan).",
        "operationId": "createTeam",
        "security": [{"bearerAuth": []}],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateTeamRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Team created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Team"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": ["Teams"],
        "summary": "List user teams",
        "description": "Get all teams the user belongs to.",
        "operationId": "listTeams",
        "security": [{"bearerAuth": []}],
        "responses": {
          "200": {
            "description": "List of teams",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Team"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/analytics/track": {
      "post": {
        "tags": ["Analytics"],
        "summary": "Track event",
        "description": "Track a usage event.",
        "operationId": "trackEvent",
        "security": [{"bearerAuth": []}],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TrackEventRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Event tracked"
          }
        }
      }
    },
    "/analytics/summary": {
      "get": {
        "tags": ["Analytics"],
        "summary": "Get usage summary",
        "description": "Get usage summary for the authenticated user.",
        "operationId": "getAnalyticsSummary",
        "security": [{"bearerAuth": []}],
        "responses": {
          "200": {
            "description": "Usage summary",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AnalyticsSummary"
                }
              }
            }
          }
        }
      }
    },
    "/sso/config": {
      "post": {
        "tags": ["SSO"],
        "summary": "Create SSO configuration",
        "description": "Create a new SSO configuration (Enterprise only).",
        "operationId": "createSSOConfig",
        "security": [{"bearerAuth": []}],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SSOConfigRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "SSO configuration created"
          }
        }
      },
      "get": {
        "tags": ["SSO"],
        "summary": "Get SSO configurations",
        "description": "List SSO configurations for the organization.",
        "operationId": "listSSOConfigs",
        "security": [{"bearerAuth": []}],
        "responses": {
          "200": {
            "description": "SSO configurations"
          }
        }
      }
    },
    "/sso/check": {
      "get": {
        "tags": ["SSO"],
        "summary": "Check SSO for domain",
        "description": "Check if SSO is configured for an email domain.",
        "operationId": "checkSSO",
        "parameters": [
          {
            "name": "email",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "format": "email"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "SSO check result",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SSOCheckResponse"
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "ConvertRequest": {
        "type": "object",
        "required": ["markdown"],
        "properties": {
          "markdown": {
            "type": "string",
            "minLength": 1,
            "maxLength": 1000000,
            "description": "Markdown content to convert (max 1MB)"
          },
          "theme": {
            "$ref": "#/components/schemas/DocumentTheme"
          },
          "codeTheme": {
            "$ref": "#/components/schemas/CodeTheme"
          },
          "pageSettings": {
            "$ref": "#/components/schemas/PageSettings"
          },
          "customCss": {
            "type": "string",
            "maxLength": 50000,
            "description": "Custom CSS to apply (max 50KB)"
          }
        }
      },
      "PreviewRequest": {
        "type": "object",
        "required": ["markdown"],
        "properties": {
          "markdown": {
            "type": "string",
            "minLength": 1,
            "maxLength": 1000000,
            "description": "Markdown content to preview"
          },
          "theme": {
            "$ref": "#/components/schemas/DocumentTheme"
          }
        }
      },
      "BatchRequest": {
        "type": "object",
        "required": ["files"],
        "properties": {
          "files": {
            "type": "array",
            "minItems": 1,
            "maxItems": 20,
            "items": {
              "$ref": "#/components/schemas/BatchFile"
            }
          },
          "theme": {
            "$ref": "#/components/schemas/DocumentTheme"
          },
          "codeTheme": {
            "$ref": "#/components/schemas/CodeTheme"
          },
          "pageSettings": {
            "$ref": "#/components/schemas/PageSettings"
          }
        }
      },
      "BatchFile": {
        "type": "object",
        "required": ["id", "filename", "markdown"],
        "properties": {
          "id": {
            "type": "string",
            "minLength": 1,
            "maxLength": 100,
            "description": "Unique identifier for the file"
          },
          "filename": {
            "type": "string",
            "minLength": 1,
            "maxLength": 255,
            "pattern": "^[^<>:\"/\\\\|?*]+$",
            "description": "Output filename"
          },
          "markdown": {
            "type": "string",
            "minLength": 1,
            "maxLength": 500000,
            "description": "Markdown content"
          }
        }
      },
      "DocumentTheme": {
        "type": "string",
        "enum": ["github", "academic", "minimal", "dark", "professional"],
        "default": "github",
        "description": "Document styling theme"
      },
      "CodeTheme": {
        "type": "string",
        "enum": ["github-dark", "github-light", "monokai", "dracula", "nord", "one-dark", "vs-code"],
        "default": "github-light",
        "description": "Code syntax highlighting theme"
      },
      "PageSettings": {
        "type": "object",
        "properties": {
          "pageSize": {
            "type": "string",
            "enum": ["a4", "letter", "legal", "a3", "custom"],
            "default": "a4"
          },
          "orientation": {
            "type": "string",
            "enum": ["portrait", "landscape"],
            "default": "portrait"
          },
          "margins": {
            "$ref": "#/components/schemas/PageMargins"
          },
          "customWidth": {
            "type": "number",
            "minimum": 50,
            "maximum": 1000,
            "description": "Custom page width in mm (when pageSize is 'custom')"
          },
          "customHeight": {
            "type": "number",
            "minimum": 50,
            "maximum": 1000,
            "description": "Custom page height in mm (when pageSize is 'custom')"
          },
          "headerFooter": {
            "$ref": "#/components/schemas/HeaderFooter"
          },
          "pageNumbers": {
            "$ref": "#/components/schemas/PageNumbers"
          },
          "watermark": {
            "$ref": "#/components/schemas/Watermark"
          }
        }
      },
      "PageMargins": {
        "type": "object",
        "properties": {
          "top": {
            "type": "number",
            "minimum": 0,
            "maximum": 100,
            "default": 20
          },
          "bottom": {
            "type": "number",
            "minimum": 0,
            "maximum": 100,
            "default": 20
          },
          "left": {
            "type": "number",
            "minimum": 0,
            "maximum": 100,
            "default": 20
          },
          "right": {
            "type": "number",
            "minimum": 0,
            "maximum": 100,
            "default": 20
          }
        }
      },
      "HeaderFooter": {
        "type": "object",
        "properties": {
          "showHeader": {
            "type": "boolean",
            "default": false
          },
          "showFooter": {
            "type": "boolean",
            "default": false
          },
          "headerText": {
            "type": "string",
            "maxLength": 500
          },
          "footerText": {
            "type": "string",
            "maxLength": 500
          }
        }
      },
      "PageNumbers": {
        "type": "object",
        "properties": {
          "show": {
            "type": "boolean",
            "default": true
          },
          "position": {
            "type": "string",
            "enum": ["bottom-center", "bottom-right", "bottom-left", "top-center", "top-right"],
            "default": "bottom-center"
          }
        }
      },
      "Watermark": {
        "type": "object",
        "properties": {
          "show": {
            "type": "boolean",
            "default": false
          },
          "text": {
            "type": "string",
            "maxLength": 100
          },
          "opacity": {
            "type": "number",
            "minimum": 0,
            "maximum": 1,
            "default": 0.1
          }
        }
      },
      "PreviewResponse": {
        "type": "object",
        "properties": {
          "html": {
            "type": "string",
            "description": "Generated HTML content"
          }
        }
      },
      "BatchResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean"
          },
          "results": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "id": {
                  "type": "string"
                },
                "success": {
                  "type": "boolean"
                },
                "data": {
                  "type": "string",
                  "format": "byte",
                  "description": "Base64 encoded PDF data"
                },
                "error": {
                  "type": "string"
                }
              }
            }
          },
          "summary": {
            "type": "object",
            "properties": {
              "total": {
                "type": "integer"
              },
              "success": {
                "type": "integer"
              },
              "failed": {
                "type": "integer"
              }
            }
          }
        }
      },
      "ThemesResponse": {
        "type": "object",
        "properties": {
          "documentThemes": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "id": {
                  "type": "string"
                },
                "name": {
                  "type": "string"
                },
                "description": {
                  "type": "string"
                }
              }
            }
          },
          "codeThemes": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "id": {
                  "type": "string"
                },
                "name": {
                  "type": "string"
                }
              }
            }
          }
        }
      },
      "TemplatesResponse": {
        "type": "object",
        "properties": {
          "templates": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "id": {
                  "type": "string"
                },
                "name": {
                  "type": "string"
                },
                "description": {
                  "type": "string"
                },
                "category": {
                  "type": "string"
                }
              }
            }
          }
        }
      },
      "HealthResponse": {
        "type": "object",
        "properties": {
          "status": {
            "type": "string",
            "example": "healthy"
          },
          "timestamp": {
            "type": "string",
            "format": "date-time"
          },
          "version": {
            "type": "string",
            "example": "1.0.0"
          }
        }
      },
      "Error": {
        "type": "object",
        "properties": {
          "error": {
            "type": "string",
            "description": "Error message"
          }
        }
      },
      "CheckoutRequest": {
        "type": "object",
        "required": ["plan", "billing"],
        "properties": {
          "plan": {
            "type": "string",
            "enum": ["pro", "team", "enterprise"],
            "description": "Subscription plan"
          },
          "billing": {
            "type": "string",
            "enum": ["monthly", "yearly"],
            "description": "Billing cycle"
          },
          "gateway": {
            "type": "string",
            "enum": ["stripe", "paymob", "paytabs", "paddle"],
            "description": "Payment gateway (auto-selected if not specified)"
          },
          "countryCode": {
            "type": "string",
            "description": "ISO country code for gateway selection"
          },
          "currency": {
            "type": "string",
            "description": "Preferred currency"
          }
        }
      },
      "CheckoutResponse": {
        "type": "object",
        "properties": {
          "url": {
            "type": "string",
            "format": "uri",
            "description": "Checkout URL to redirect user"
          },
          "sessionId": {
            "type": "string",
            "description": "Checkout session ID"
          },
          "gateway": {
            "type": "string",
            "description": "Selected payment gateway"
          }
        }
      },
      "GatewaysResponse": {
        "type": "object",
        "properties": {
          "gateways": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "id": {
                  "type": "string"
                },
                "name": {
                  "type": "string"
                },
                "available": {
                  "type": "boolean"
                }
              }
            }
          },
          "recommended": {
            "type": "string",
            "description": "Recommended gateway for user's region"
          }
        }
      },
      "StoredFile": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "filename": {
            "type": "string"
          },
          "originalName": {
            "type": "string"
          },
          "mimeType": {
            "type": "string"
          },
          "size": {
            "type": "integer"
          },
          "path": {
            "type": "string"
          },
          "url": {
            "type": "string",
            "format": "uri"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "StorageQuota": {
        "type": "object",
        "properties": {
          "used": {
            "type": "integer",
            "description": "Used storage in bytes"
          },
          "limit": {
            "type": "integer",
            "description": "Storage limit in bytes"
          },
          "remaining": {
            "type": "integer",
            "description": "Remaining storage in bytes"
          },
          "percentage": {
            "type": "number",
            "description": "Usage percentage"
          }
        }
      },
      "CreateTeamRequest": {
        "type": "object",
        "required": ["name"],
        "properties": {
          "name": {
            "type": "string",
            "minLength": 1,
            "maxLength": 100
          }
        }
      },
      "Team": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "ownerId": {
            "type": "string"
          },
          "plan": {
            "type": "string"
          },
          "members": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/TeamMember"
            }
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "TeamMember": {
        "type": "object",
        "properties": {
          "userId": {
            "type": "string"
          },
          "email": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "role": {
            "type": "string",
            "enum": ["owner", "admin", "member"]
          },
          "joinedAt": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "TrackEventRequest": {
        "type": "object",
        "required": ["event"],
        "properties": {
          "event": {
            "type": "string",
            "description": "Event name"
          },
          "properties": {
            "type": "object",
            "description": "Event properties"
          }
        }
      },
      "AnalyticsSummary": {
        "type": "object",
        "properties": {
          "totalConversions": {
            "type": "integer"
          },
          "totalPreviews": {
            "type": "integer"
          },
          "storageUsed": {
            "type": "integer"
          },
          "dailyUsage": {
            "type": "object",
            "properties": {
              "conversions": {
                "type": "integer"
              },
              "limit": {
                "type": "integer"
              }
            }
          }
        }
      },
      "SSOConfigRequest": {
        "type": "object",
        "required": ["provider", "config"],
        "properties": {
          "provider": {
            "type": "string",
            "enum": ["saml", "oidc", "azure_ad", "okta", "google_workspace"]
          },
          "config": {
            "type": "object",
            "description": "Provider-specific configuration"
          },
          "domains": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Email domains for SSO"
          }
        }
      },
      "SSOCheckResponse": {
        "type": "object",
        "properties": {
          "ssoEnabled": {
            "type": "boolean"
          },
          "provider": {
            "type": "string"
          },
          "loginUrl": {
            "type": "string",
            "format": "uri"
          }
        }
      }
    },
    "securitySchemes": {
      "bearerAuth": {
        "type": "http",
        "scheme": "bearer",
        "bearerFormat": "JWT"
      }
    }
  }
}
